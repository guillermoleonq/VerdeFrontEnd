{"ast":null,"code":"import axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  name: 'DepartmentView',\n  data() {\n    return {\n      id: 0,\n      codigo: '',\n      nombre: '',\n      descripcion: '',\n      imagen: '',\n      cantidadMaxima: '',\n      cantidadMinima: '',\n      stock: '',\n      precioUnitarioCompra: '',\n      iva: '',\n      descuento: '',\n      listData: [],\n      listValidar: []\n    };\n  },\n  created() {\n    this.loadData();\n  },\n  methods: {\n    loadData: function () {\n      axios.get('http://localhost:9000/api/productos').then(result => {\n        this.listData = result.data;\n      });\n      axios.get('http://localhost:9000/api/cities').then(result => {\n        this.listValidar = result.data;\n      });\n    },\n    findByid: function (id) {\n      // metodo para consutlar por el ig del boton impreso en la vista\n      axios.get('http://localhost:9000/api/productos/' + id).then(result => {\n        this.codigo = result.data.codigo, this.nombre = result.data.nombre, this.descripcion = result.data.descripcion, this.imagen = result.data.imagen, this.cantidadMaxima = result.data.cantidadMaxima, this.cantidadMinima = result.data.cantidadMinima, this.stock = result.data.stock, this.precioUnitarioCompra = result.data.precioUnitarioCompra, this.iva = result.data.iva, this.descuento = result.data.descuento, this.estado = result.data.estado == true ? 1 : 0;\n      });\n    },\n    deleteById: function (id) {\n      // metodo para eliminar el registro por ID\n      var bandera = this.validarReferencia(id);\n      if (bandera == true) {\n        Swal.fire({\n          title: 'Esta usted seguro de eliminar?',\n          text: \"No pordrá revertir los cambios!\",\n          icon: 'Advertencia',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Si, borrar!'\n        }).then(result => {\n          if (result.isConfirmed) {\n            axios.delete('http://localhost:9000/api/productos/' + id).then(() => {\n              Swal.fire({\n                icon: 'success',\n                title: \"'El registro se eliminó de forma correcta.'\",\n                showConfirmButton: false,\n                timer: 1500\n              });\n              this.loadData();\n            });\n          }\n        });\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Error, registro tiene asociado un permiso al rol.'\n        });\n      }\n    },\n    dataAdd: function () {\n      let data = {\n        codigo: this.codigo,\n        nombre: this.nombre,\n        descripcion: this.descripcion,\n        imagen: this.imagen,\n        cantidadMaxima: this.cantidadMaxima,\n        cantidadMinima: this.cantidadMinima,\n        stock: this.stock,\n        precioUnitarioCompra: this.precioUnitarioCompra,\n        iva: this.iva,\n        descuento: this.descuento,\n        estado: parseInt(this.estado)\n      };\n      axios.post('http://localhost:9000/api/productos', data).then(result => {\n        if (result.data) {\n          Swal.fire({\n            icon: 'success',\n            title: \"'El registro se guardó de forma correcta.'\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.loadData();\n          this.clearList();\n        }\n      });\n    },\n    dataUpdate: function () {\n      let data = {\n        codigo: this.codigo,\n        nombre: this.nombre,\n        descripcion: this.descripcion,\n        imagen: this.imagen,\n        cantidadMaxima: this.cantidadMaxima,\n        cantidadMinima: this.cantidadMinima,\n        stock: this.stock,\n        precioUnitarioCompra: this.precioUnitarioCompra,\n        iva: this.iva,\n        descuento: this.descuento,\n        estado: parseInt(this.estado)\n      };\n      axios.put('http://localhost:9000/api/productos/' + this.id, data).then(result => {\n        if (result.data) {\n          Swal.fire({\n            icon: 'success',\n            title: \"'El registro se guardó de forma correcta.'\",\n            showConfirmButton: false,\n            timer: 1500\n          });\n          this.loadData();\n          this.clearList();\n        }\n      });\n    },\n    validarReferencia: function (id) {\n      var bandera = true;\n      this.listValidar.forEach((item, index) => {\n        if (item.departmentId.id == id) {\n          bandera = false;\n        }\n        console.log(index);\n      });\n      return bandera;\n    },\n    clearList: function () {\n      this.id = 0, this.codigo = '', this.nombre = '', this.descripcion = '', this.imagen = '', this.cantidadMaxima = '', this.cantidadMinima = '', this.stock = '', this.precioUnitarioCompra = '', this.iva = '', this.descuento = '', this.codigo = '', this.nombre = '', this.estado = '', this.listData = [];\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","Swal","name","data","id","codigo","nombre","descripcion","imagen","cantidadMaxima","cantidadMinima","stock","precioUnitarioCompra","iva","descuento","listData","listValidar","created","loadData","methods","get","then","result","findByid","estado","deleteById","bandera","validarReferencia","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","showConfirmButton","timer","dataAdd","parseInt","post","clearList","dataUpdate","put","forEach","item","index","departmentId","console","log"],"sourceRoot":"","sources":["D:\\MisionTIC_2022\\unab_web_application_development\\VerdeClaroFE\\verde-claro-frontend\\src\\views\\ecommerce\\ProductosView.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <form id=\"department\">\r\n            <fieldset>\r\n\r\n                <div class=\"alert alert-success mt-3 p-1 text-center\">\r\n                    Registro de Productos\r\n                </div>\r\n                <!-- Datos de entarada del formulario -->\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 mb-2\">\r\n                        <div class=\"card\">\r\n\r\n                            <a class=\"btn text-dark\" data-bs-toggle=\"collapse\" href=\"#bodyProducts\"\r\n                                id=\"customer_header\">\r\n                                <i class=\"fa fa-arrow-circle-o-down ms-auto \" id=\"customer_btn\"></i>\r\n                                Nuevos productos y/o actualización\r\n                                <i class=\"fa fa-arrow-circle-o-down ms-auto \" id=\"customer_btn\"></i>\r\n                            </a>\r\n\r\n                            <div class=\"collapse card-body\" id=\"bodyProducts\">\r\n\r\n                                <div class=\"form-group\">\r\n                                    <input type=\"hidden\" v-model=\"id\" />\r\n                                    <div class=\"row row-cols-2\">\r\n                                        <div class=\"col\">\r\n                                            <label class=\"form-label mt-1\">Código</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"codigo\"\r\n                                                placeholder=\"Código\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Nombre</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"nombre\"\r\n                                                placeholder=\"Nombre o referencia\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Descripcion</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"descripcion\"\r\n                                                placeholder=\"Descripcion del producto\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Imagen</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"imagen\"\r\n                                                placeholder=\"Nombre del archivo de la imagen con ext\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Cantidad maxima</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"cantidadMaxima\"\r\n                                                placeholder=\"Cantidad numero maximo\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Cantidad minima</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"cantidadMinima\"\r\n                                                placeholder=\"Cantidad numero minimo\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Stock</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"stock\"\r\n                                                placeholder=\"Inventario actual\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Precio unitario</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"precioUnitarioCompra\"\r\n                                                placeholder=\"Valor del precio unitario\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Iva</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"iva\"\r\n                                                placeholder=\"Valor del iva si aplica\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Decuento</label>\r\n                                            <input type=\"text\" class=\"form-control\" v-model=\"descuento\"\r\n                                                placeholder=\"Valor del descuento si aplica\">\r\n                                        </div>\r\n                                        <div class=\"col\"><label class=\"form-label mt-1\">Estado</label>\r\n                                            <select class=\"form-select\" v-model=\"estado\">\r\n                                                <option disabled :selected=\"true\" value=\"\">-- Seleccione --</option>\r\n                                                <option value=\"1\">Activo</option>\r\n                                                <option value=\"0\">Inactivo</option>\r\n                                            </select>\r\n                                        </div>\r\n\r\n                                        <!-- Botones -->\r\n                                        <div class=\"d-flex mt-3\">\r\n                                            <button type=\"button\" class=\"btn btn-outline-success btn-sm ms-auto\"\r\n                                                @click=\"dataAdd()\">Agregar</button>\r\n                                            &nbsp;\r\n                                            <button type=\"button\" class=\"btn btn-outline-warning btn-sm\"\r\n                                                @click=\"dataUpdate()\">Modificar</button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-12\">\r\n                        <!-- Registros -->\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"alert p-1 text-center\">\r\n                                    Lista de Productos\r\n                                </div>\r\n                                <div>\r\n                                    <table class=\"table table-responsive table-hover\">\r\n                                        <thead class=\"text-center\">\r\n                                            <tr class=\"table-active\">\r\n                                                <td>Codigo</td>\r\n                                                <td>Nombre</td>\r\n                                                <td>descripcion</td>\r\n                                                <td>imagen</td>\r\n                                                <td>cantidad Maxima</td>\r\n                                                <td>cantidad Minima</td>\r\n                                                <td>stock</td>\r\n                                                <td>Precio Unitario</td>\r\n                                                <td>Iva</td>\r\n                                                <td>Descuento</td>\r\n                                                <td>Estado</td>\r\n                                                <td>Acciones</td>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody id=\"dataResult\">\r\n                                            <tr v-for=\"item in listData\" :key=\"item.id\">\r\n                                                <td>{{ item.codigo }}</td>\r\n                                                <td>{{ item.nombre }}</td>\r\n                                                <td>{{ item.descripcion }}</td>\r\n                                                <td>{{ item.imagen }}</td>\r\n                                                <td class=\"text-center\">{{ item.cantidadMaxima }}</td>\r\n                                                <td class=\"text-center\">{{ item.cantidadMinima }}</td>\r\n                                                <td class=\"text-center\">{{ item.stock }}</td>\r\n                                                <td>{{ item.precioUnitarioCompra }}</td>\r\n                                                <td class=\"text-center\">{{ item.iva }}</td>\r\n                                                <td class=\"text-center\">{{ item.descuento }}</td>\r\n                                                <td class=\"text-center\">{{ item.estado == true ? 'Activo' : 'Inactivo'\r\n                                                }}</td>\r\n                                                <td class=\"text-center\">\r\n                                                    <i class=\"fa fa-pencil-square actions text-warning me-1\"\r\n                                                        @click=\"findByid(item.id)\"></i>\r\n                                                    <i class=\"fa fa-trash-o actions text-danger ms-1\"\r\n                                                        @click=\"deleteById(item.id)\"></i>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </fieldset>\r\n        </form>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n    name: 'DepartmentView',\r\n\r\n    data() {\r\n        return {\r\n            id: 0,\r\n            codigo: '',\r\n            nombre: '',\r\n            descripcion: '',\r\n            imagen: '',\r\n            cantidadMaxima: '',\r\n            cantidadMinima: '',\r\n            stock: '',\r\n            precioUnitarioCompra: '',\r\n            iva: '',\r\n            descuento: '',\r\n            listData: [],\r\n            listValidar: []\r\n        }\r\n    },\r\n    created() {\r\n        this.loadData();\r\n    },\r\n    methods: {\r\n        loadData: function () {\r\n            axios.get('http://localhost:9000/api/productos').then(result => {\r\n                this.listData = result.data\r\n            })\r\n            axios.get('http://localhost:9000/api/cities').then(result => {\r\n                this.listValidar = result.data\r\n            })\r\n        },\r\n        findByid: function (id) {\r\n            // metodo para consutlar por el ig del boton impreso en la vista\r\n            axios.get('http://localhost:9000/api/productos/' + id).then(result => {\r\n\r\n                this.codigo = result.data.codigo,\r\n                    this.nombre = result.data.nombre,\r\n                    this.descripcion = result.data.descripcion,\r\n                    this.imagen = result.data.imagen,\r\n                    this.cantidadMaxima = result.data.cantidadMaxima,\r\n                    this.cantidadMinima = result.data.cantidadMinima,\r\n                    this.stock = result.data.stock,\r\n                    this.precioUnitarioCompra = result.data.precioUnitarioCompra,\r\n                    this.iva = result.data.iva,\r\n                    this.descuento = result.data.descuento,\r\n                    this.estado = (result.data.estado == true ? 1 : 0);\r\n\r\n            })\r\n        },\r\n        deleteById: function (id) {\r\n            // metodo para eliminar el registro por ID\r\n            var bandera = this.validarReferencia(id);\r\n            if (bandera == true) {\r\n                Swal.fire({\r\n                    title: 'Esta usted seguro de eliminar?',\r\n                    text: \"No pordrá revertir los cambios!\",\r\n                    icon: 'Advertencia',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: 'Si, borrar!'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        axios.delete('http://localhost:9000/api/productos/' + id).then(() => {\r\n                            Swal.fire({\r\n                                icon: 'success',\r\n                                title: \"'El registro se eliminó de forma correcta.'\",\r\n                                showConfirmButton: false,\r\n                                timer: 1500\r\n                            });\r\n                            this.loadData();\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'Error, registro tiene asociado un permiso al rol.'\r\n                })\r\n            }\r\n        },\r\n        dataAdd: function () {\r\n            let data = {\r\n                codigo: this.codigo,\r\n                nombre: this.nombre,\r\n                descripcion: this.descripcion,\r\n                imagen: this.imagen,\r\n                cantidadMaxima: this.cantidadMaxima,\r\n                cantidadMinima: this.cantidadMinima,\r\n                stock: this.stock,\r\n                precioUnitarioCompra: this.precioUnitarioCompra,\r\n                iva: this.iva,\r\n                descuento: this.descuento,\r\n                estado: parseInt(this.estado)\r\n            };\r\n            axios.post('http://localhost:9000/api/productos', data).then(result => {\r\n                if (result.data) {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: \"'El registro se guardó de forma correcta.'\",\r\n                        showConfirmButton: false,\r\n                        timer: 1500\r\n                    });\r\n                    this.loadData();\r\n                    this.clearList();\r\n                }\r\n            });\r\n\r\n        },\r\n        dataUpdate: function () {\r\n            let data = {\r\n            \r\n                codigo: this.codigo,\r\n                nombre: this.nombre,\r\n                descripcion: this.descripcion,\r\n                imagen: this.imagen,\r\n                cantidadMaxima: this.cantidadMaxima,\r\n                cantidadMinima: this.cantidadMinima,\r\n                stock: this.stock,\r\n                precioUnitarioCompra: this.precioUnitarioCompra,\r\n                iva: this.iva,\r\n                descuento: this.descuento,\r\n                estado: parseInt(this.estado)\r\n            };\r\n            axios.put('http://localhost:9000/api/productos/' + this.id, data).then(result => {\r\n                if (result.data) {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: \"'El registro se guardó de forma correcta.'\",\r\n                        showConfirmButton: false,\r\n                        timer: 1500\r\n                    });\r\n                    this.loadData();\r\n                    this.clearList();\r\n                }\r\n            });\r\n\r\n        },\r\n        validarReferencia: function (id) {\r\n            var bandera = true;\r\n\r\n            this.listValidar.forEach((item, index) => {\r\n                if (item.departmentId.id == id) {\r\n                    bandera = false\r\n                }\r\n                console.log(index)\r\n            })\r\n            return bandera;\r\n\r\n        },\r\n        clearList: function () {\r\n            this.id = 0,\r\n                this.codigo = '',\r\n                this.nombre = '',\r\n                this.descripcion = '',\r\n                this.imagen = '',\r\n                this.cantidadMaxima = '',\r\n                this.cantidadMinima = '',\r\n                this.stock = '',\r\n                this.precioUnitarioCompra = '',\r\n                this.iva = '',\r\n                this.descuento = '',\r\n                this.codigo = '',\r\n                this.nombre = '',\r\n                this.estado = '',\r\n                this.listData = []\r\n        }\r\n    }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}